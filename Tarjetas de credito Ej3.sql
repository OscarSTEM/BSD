DROP SCHEMA IF EXISTS BANCO;
CREATE SCHEMA CREDITO;
USE CREDITO;
CREATE TABLE TITULAR(
DNI CHAR (9) PRIMARY KEY, 
DOMICILIO CHAR (40),
TELEFONO VARCHAR (15)
);
CREATE TABLE CUENTA(
NUMERO CHAR (24) PRIMARY KEY,
SALDO DECIMAL (9, 2),
FECHA_APERTURA DATE
);
CREATE TABLE TARJETA(
NUMERO CHAR (16) PRIMARY KEY,
TIPO VARCHAR (20),
DNI_TITULAR CHAR (9),
NUMERO_CUENTA CHAR (24),
FOREIGN KEY (DNI_TITULAR) REFERENCES TITULAR(DNI),
FOREIGN KEY (NUMERO_CUENTA) REFERENCES CUENTA(NUMERO)
);
CREATE TABLE TITULAR_DISPONE_CUENTA(
DNI_TITULAR CHAR (9),
NUMERO_CUENTA CHAR(24),
PRIMARY KEY (DNI_TITULAR,NUMERO_CUENTA),
FOREIGN KEY (DNI_TITULAR) REFERENCES TITULAR(DNI),
FOREIGN KEY (NUMERO_CUENTA) REFERENCES CUENTA(NUMERO)
);
#---------INSERTAR DATOS---------#
# CREA UNA CUENTA CON TRES TITULARES Y QUE DOS DE ELLOS TENGAN UNA TARJETA DE CREDITO
# ADEMAS, UNO DE LOS TITULARES TENDRA UNA CUENTA PROPIA Y OTRA TARJETA DE CREDITO 

INSERT INTO TITULAR VALUES
("12345678J","CALLE PIRULETA" , 789456123),
("15975345M","CALLE NO VEAS", 652478913),
("15745648G","CALLE ILLO",643421578);
SELECT * FROM TITULAR; 


INSERT INTO CUENTA VALUES
("123456789", 0, "2023-05-30");
SELECT * FROM CUENTA; 

INSERT INTO TITULAR_DISPONE_CUENTA VALUES
("12345678J","123456789"),
("15975345M","123456789"),
("15745648G","123456789");
SELECT * FROM TITULAR_DISPONE_CUENTA;

INSERT INTO TARJETA VALUES
("1234578963369", "CREDITO", "12345678J","123456789"),
("1234567898978", "CREDITO", "15975345M", "123456789"),
("9874563211547", "CREDITO", "15745648G", "123456789");
SELECT * FROM TARJETA;

